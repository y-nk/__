source ./.colors
source ./.aliases

# annoying but we can't get over it.
#
# token management in npmrc is done with env var, which was
# argued as insecure, but nonetheless the request to change
# was denied.
#
# this is slow. but there's no other way.
op whoami >> /dev/null 2>&1
if [ "$?" -eq 0 ]; then
  export NODE_AUTH_TOKEN=$(op read op://private/GH_PAT/password)
else
  _info "op not logged in.\n\n"
fi

export BASH_SILENCE_DEPRECATION_WARNING=1
export CRONDARGS=" -s -m off"
export EDITOR="nano"
export FZF_DEFAULT_COMMAND='fd --type f --hidden --exclude ".git*" --strip-cwd-prefix'
export FZF_DEFAULT_OPTS='--layout reverse --border'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_CTRL_T_OPTS='--preview "bat --color=always --style=numbers,changes --theme=1337 {}"'
export GPG_TTY=$(tty)
export HOMEBREW_CASK_OPTS="--appdir=/Applications"
export HOMEBREW_NO_AUTO_UPDATE=1
export HOMEBREW_NO_INSTALL_CLEANUP=1
export ICLOUD="$HOME/Library/Mobile Documents/com~apple~CloudDocs"\
export LANG=en_US.UTF-8
export LC_ALL=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8
export MANPATH="/usr/local/man:$MANPATH"
export NODE_OPTIONS="--max-old-space-size=8192"
export PATH="/usr/local/bin:/usr/local/sbin:$PATH"

fortune
# ---
export __="/Users/julien/Library/Mobile Documents/com~apple~CloudDocs/.__/dotfiles"
